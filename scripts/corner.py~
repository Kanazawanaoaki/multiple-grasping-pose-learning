import cv2
import numpy as np


filename = "src/framemask03.jpg"
img = cv2.imread(filename)
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
img2 = cv2.medianBlur(gray,5)
ret, thresh = cv2.threshold(img2, 1, 255, 0)
im2, contours, hierarchy = cv2.findContours(thresh, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)
#cv2.drawContours(img, contours, -1, (0,255,0), 3)
#cv2.imshow('gray3',img)

points = np.empty((0,2),int)

    
for i in range(len(contours)):    
    contour_points =  contours[i].reshape([-1,2])
    points= np.append(points,contour_points,axis=0)

sort_arr = points[points[:,0].argsort()]
sample_idx = np.random.choice(sort_arr.shape[0], 15, replace=False) #sample 10 points
sort_arr2 = points[points[:,1].argsort()]
sample_idx2 = np.random.choice(sort_arr2.shape[0], 15, replace=False) #sample 10 points
#print sample_idx
sample_idx= np.append(sample_idx,sample_idx2,axis=0)
sampled_point = sort_arr[sample_idx,:]
#print sampled_point
for i in range(sampled_point.shape[0]):
    cv2.circle(img,(sampled_point[i][0],sampled_point[i][1]),3,(0,0,255),2)
cv2.imshow("result",img)
cv2.waitKey(0)
